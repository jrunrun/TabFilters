/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  var regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  Function("r", "regeneratorRuntime = r")(runtime);
}

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).TabFilters=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var r=function(t){return t&&t.Math==Math&&t},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c={f:u&&!a.call({1:2},1)?function(t){var e=u(this,t);return!!e&&e.enumerable}:a},s=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},f={}.toString,l=function(t){return f.call(t).slice(8,-1)},p="".split,h=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==l(t)?p.call(t,""):Object(t)}:Object,d=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return h(d(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!g(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!g(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!g(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!g(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,b=function(t,e){return m.call(t,e)},w=n.document,k=g(w)&&g(w.createElement),x=function(t){return k?w.createElement(t):{}},j=!i&&!o((function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})),O=Object.getOwnPropertyDescriptor,S={f:i?O:function(t,e){if(t=v(t),e=y(e,!0),j)try{return O(t,e)}catch(t){}if(b(t,e))return s(!c.f.call(t,e),t[e])}},E=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},A=Object.defineProperty,T={f:i?A:function(t,e,r){if(E(t),e=y(e,!0),E(r),j)try{return A(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},F=i?function(t,e,r){return T.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t},P=function(t,e){try{F(n,t,e)}catch(r){n[t]=e}return e},L=n["__core-js_shared__"]||P("__core-js_shared__",{}),N=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return N.call(t)});var R,_,z,M=L.inspectSource,I=n.WeakMap,V="function"==typeof I&&/native code/.test(M(I)),W=e((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),C=0,D=Math.random(),G=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++C+D).toString(36)},U=W("keys"),H=function(t){return U[t]||(U[t]=G(t))},q={},B=n.WeakMap;if(V){var Y=new B,K=Y.get,Q=Y.has,Z=Y.set;R=function(t,e){return Z.call(Y,t,e),e},_=function(t){return K.call(Y,t)||{}},z=function(t){return Q.call(Y,t)}}else{var X=H("state");q[X]=!0,R=function(t,e){return F(t,X,e),e},_=function(t){return b(t,X)?t[X]:{}},z=function(t){return b(t,X)}}var $,J,tt={set:R,get:_,has:z,enforce:function(t){return z(t)?_(t):R(t,{})},getterFor:function(t){return function(e){var r;if(!g(e)||(r=_(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},et=e((function(t){var e=tt.get,r=tt.enforce,o=String(String).split("String");(t.exports=function(t,e,i,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,s=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||b(i,"name")||F(i,"name",e),r(i).source=o.join("string"==typeof e?e:"")),t!==n?(u?!s&&t[e]&&(c=!0):delete t[e],c?t[e]=i:F(t,e,i)):c?t[e]=i:P(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||M(this)}))})),rt=n,nt=function(t){return"function"==typeof t?t:void 0},ot=function(t,e){return arguments.length<2?nt(rt[t])||nt(n[t]):rt[t]&&rt[t][e]||n[t]&&n[t][e]},it=Math.ceil,at=Math.floor,ut=function(t){return isNaN(t=+t)?0:(t>0?at:it)(t)},ct=Math.min,st=function(t){return t>0?ct(ut(t),9007199254740991):0},ft=Math.max,lt=Math.min,pt=function(t){return function(e,r,n){var o,i=v(e),a=st(i.length),u=function(t,e){var r=ut(t);return r<0?ft(r+e,0):lt(r,e)}(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},ht={includes:pt(!0),indexOf:pt(!1)},dt=ht.indexOf,vt=function(t,e){var r,n=v(t),o=0,i=[];for(r in n)!b(q,r)&&b(n,r)&&i.push(r);for(;e.length>o;)b(n,r=e[o++])&&(~dt(i,r)||i.push(r));return i},gt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],yt=gt.concat("length","prototype"),mt={f:Object.getOwnPropertyNames||function(t){return vt(t,yt)}},bt={f:Object.getOwnPropertySymbols},wt=ot("Reflect","ownKeys")||function(t){var e=mt.f(E(t)),r=bt.f;return r?e.concat(r(t)):e},kt=function(t,e){for(var r=wt(e),n=T.f,o=S.f,i=0;i<r.length;i++){var a=r[i];b(t,a)||n(t,a,o(e,a))}},xt=/#|\.prototype\./,jt=function(t,e){var r=St[Ot(t)];return r==At||r!=Et&&("function"==typeof e?o(e):!!e)},Ot=jt.normalize=function(t){return String(t).replace(xt,".").toLowerCase()},St=jt.data={},Et=jt.NATIVE="N",At=jt.POLYFILL="P",Tt=jt,Ft=S.f,Pt=function(t,e){var r,o,i,a,u,c=t.target,s=t.global,f=t.stat;if(r=s?n:f?n[c]||P(c,{}):(n[c]||{}).prototype)for(o in e){if(a=e[o],i=t.noTargetGet?(u=Ft(r,o))&&u.value:r[o],!Tt(s?o:c+(f?".":"#")+o,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;kt(a,i)}(t.sham||i&&i.sham)&&F(a,"sham",!0),et(r,o,a,t)}},Lt=Array.isArray||function(t){return"Array"==l(t)},Nt=function(t){return Object(d(t))},Rt=function(t,e,r){var n=y(e);n in t?T.f(t,n,s(0,r)):t[n]=r},_t=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),zt=_t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Mt=W("wks"),It=n.Symbol,Vt=zt?It:It&&It.withoutSetter||G,Wt=function(t){return b(Mt,t)||(_t&&b(It,t)?Mt[t]=It[t]:Mt[t]=Vt("Symbol."+t)),Mt[t]},Ct=Wt("species"),Dt=function(t,e){var r;return Lt(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Lt(r.prototype)?g(r)&&null===(r=r[Ct])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},Gt=ot("navigator","userAgent")||"",Ut=n.process,Ht=Ut&&Ut.versions,qt=Ht&&Ht.v8;qt?J=($=qt.split("."))[0]+$[1]:Gt&&(!($=Gt.match(/Edge\/(\d+)/))||$[1]>=74)&&($=Gt.match(/Chrome\/(\d+)/))&&(J=$[1]);var Bt=J&&+J,Yt=Wt("species"),Kt=function(t){return Bt>=51||!o((function(){var e=[];return(e.constructor={})[Yt]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Qt=Wt("isConcatSpreadable"),Zt=Bt>=51||!o((function(){var t=[];return t[Qt]=!1,t.concat()[0]!==t})),Xt=Kt("concat"),$t=function(t){if(!g(t))return!1;var e=t[Qt];return void 0!==e?!!e:Lt(t)};Pt({target:"Array",proto:!0,forced:!Zt||!Xt},{concat:function(t){var e,r,n,o,i,a=Nt(this),u=Dt(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if($t(i=-1===e?a:arguments[e])){if(c+(o=st(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,c++)r in i&&Rt(u,c,i[r])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Rt(u,c++,i)}return u.length=c,u}});var Jt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},te=function(t,e,r){if(Jt(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},ee=[].push,re=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=5==t||i;return function(u,c,s,f){for(var l,p,d=Nt(u),v=h(d),g=te(c,s,3),y=st(v.length),m=0,b=f||Dt,w=e?b(u,y):r?b(u,0):void 0;y>m;m++)if((a||m in v)&&(p=g(l=v[m],m,d),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return m;case 2:ee.call(w,l)}else if(o)return!1;return i?-1:n||o?o:w}},ne={forEach:re(0),map:re(1),filter:re(2),some:re(3),every:re(4),find:re(5),findIndex:re(6)},oe=Object.defineProperty,ie={},ae=function(t){throw t},ue=function(t,e){if(b(ie,t))return ie[t];e||(e={});var r=[][t],n=!!b(e,"ACCESSORS")&&e.ACCESSORS,a=b(e,0)?e[0]:ae,u=b(e,1)?e[1]:void 0;return ie[t]=!!r&&!o((function(){if(n&&!i)return!0;var t={length:-1};n?oe(t,1,{enumerable:!0,get:ae}):t[1]=1,r.call(t,a,u)}))},ce=ne.filter,se=Kt("filter"),fe=ue("filter");Pt({target:"Array",proto:!0,forced:!se||!fe},{filter:function(t){return ce(this,t,arguments.length>1?arguments[1]:void 0)}});var le,pe=Object.keys||function(t){return vt(t,gt)},he=i?Object.defineProperties:function(t,e){E(t);for(var r,n=pe(e),o=n.length,i=0;o>i;)T.f(t,r=n[i++],e[r]);return t},de=ot("document","documentElement"),ve=H("IE_PROTO"),ge=function(){},ye=function(t){return"<script>"+t+"<\/script>"},me=function(){try{le=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;me=le?function(t){t.write(ye("")),t.close();var e=t.parentWindow.Object;return t=null,e}(le):((e=x("iframe")).style.display="none",de.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ye("document.F=Object")),t.close(),t.F);for(var r=gt.length;r--;)delete me.prototype[gt[r]];return me()};q[ve]=!0;var be=Object.create||function(t,e){var r;return null!==t?(ge.prototype=E(t),r=new ge,ge.prototype=null,r[ve]=t):r=me(),void 0===e?r:he(r,e)},we=Wt("unscopables"),ke=Array.prototype;null==ke[we]&&T.f(ke,we,{configurable:!0,value:be(null)});var xe=function(t){ke[we][t]=!0},je=ht.includes,Oe=ue("indexOf",{ACCESSORS:!0,1:0});Pt({target:"Array",proto:!0,forced:!Oe},{includes:function(t){return je(this,t,arguments.length>1?arguments[1]:void 0)}}),xe("includes");var Se,Ee,Ae,Te={},Fe=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Pe=H("IE_PROTO"),Le=Object.prototype,Ne=Fe?Object.getPrototypeOf:function(t){return t=Nt(t),b(t,Pe)?t[Pe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Le:null},Re=Wt("iterator"),_e=!1;[].keys&&("next"in(Ae=[].keys())?(Ee=Ne(Ne(Ae)))!==Object.prototype&&(Se=Ee):_e=!0),null==Se&&(Se={}),b(Se,Re)||F(Se,Re,(function(){return this}));var ze={IteratorPrototype:Se,BUGGY_SAFARI_ITERATORS:_e},Me=T.f,Ie=Wt("toStringTag"),Ve=function(t,e,r){t&&!b(t=r?t:t.prototype,Ie)&&Me(t,Ie,{configurable:!0,value:e})},We=ze.IteratorPrototype,Ce=function(){return this},De=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return E(r),function(t){if(!g(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),Ge=ze.IteratorPrototype,Ue=ze.BUGGY_SAFARI_ITERATORS,He=Wt("iterator"),qe=function(){return this},Be=function(t,e,r,n,o,i,a){!function(t,e,r){var n=e+" Iterator";t.prototype=be(We,{next:s(1,r)}),Ve(t,n,!1),Te[n]=Ce}(r,e,n);var u,c,f,l=function(t){if(t===o&&g)return g;if(!Ue&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},p=e+" Iterator",h=!1,d=t.prototype,v=d[He]||d["@@iterator"]||o&&d[o],g=!Ue&&v||l(o),y="Array"==e&&d.entries||v;if(y&&(u=Ne(y.call(new t)),Ge!==Object.prototype&&u.next&&(Ne(u)!==Ge&&(De?De(u,Ge):"function"!=typeof u[He]&&F(u,He,qe)),Ve(u,p,!0))),"values"==o&&v&&"values"!==v.name&&(h=!0,g=function(){return v.call(this)}),d[He]!==g&&F(d,He,g),Te[e]=g,o)if(c={values:l("values"),keys:i?g:l("keys"),entries:l("entries")},a)for(f in c)(Ue||h||!(f in d))&&et(d,f,c[f]);else Pt({target:e,proto:!0,forced:Ue||h},c);return c},Ye=tt.set,Ke=tt.getterFor("Array Iterator"),Qe=Be(Array,"Array",(function(t,e){Ye(this,{type:"Array Iterator",target:v(t),index:0,kind:e})}),(function(){var t=Ke(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");Te.Arguments=Te.Array,xe("keys"),xe("values"),xe("entries");var Ze=ne.map,Xe=Kt("map"),$e=ue("map");Pt({target:"Array",proto:!0,forced:!Xe||!$e},{map:function(t){return Ze(this,t,arguments.length>1?arguments[1]:void 0)}});var Je=!o((function(){return Object.isExtensible(Object.preventExtensions({}))})),tr=e((function(t){var e=T.f,r=G("meta"),n=0,o=Object.isExtensible||function(){return!0},i=function(t){e(t,r,{value:{objectID:"O"+ ++n,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!g(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!b(t,r)){if(!o(t))return"F";if(!e)return"E";i(t)}return t[r].objectID},getWeakData:function(t,e){if(!b(t,r)){if(!o(t))return!0;if(!e)return!1;i(t)}return t[r].weakData},onFreeze:function(t){return Je&&a.REQUIRED&&o(t)&&!b(t,r)&&i(t),t}};q[r]=!0})),er=tr.onFreeze,rr=Object.freeze,nr=o((function(){rr(1)}));Pt({target:"Object",stat:!0,forced:nr,sham:!Je},{freeze:function(t){return rr&&g(t)?rr(er(t)):t}});var or={};or[Wt("toStringTag")]="z";var ir="[object z]"===String(or),ar=Wt("toStringTag"),ur="Arguments"==l(function(){return arguments}()),cr=ir?l:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ar))?r:ur?l(e):"Object"==(n=l(e))&&"function"==typeof e.callee?"Arguments":n},sr=ir?{}.toString:function(){return"[object "+cr(this)+"]"};ir||et(Object.prototype,"toString",sr,{unsafe:!0});var fr=n.Promise,lr=function(t,e,r){for(var n in e)et(t,n,e[n],r);return t},pr=Wt("species"),hr=function(t){var e=ot(t),r=T.f;i&&e&&!e[pr]&&r(e,pr,{configurable:!0,get:function(){return this}})},dr=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},vr=Wt("iterator"),gr=Array.prototype,yr=Wt("iterator"),mr=function(t,e,r,n){try{return n?e(E(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&E(o.call(t)),e}},br=e((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,r,n,o,i){var a,u,c,s,f,l,p,h,d=te(r,n,o?2:1);if(i)a=t;else{if("function"!=typeof(u=function(t){if(null!=t)return t[yr]||t["@@iterator"]||Te[cr(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(h=u)&&(Te.Array===h||gr[vr]===h)){for(c=0,s=st(t.length);s>c;c++)if((f=o?d(E(p=t[c])[0],p[1]):d(t[c]))&&f instanceof e)return f;return new e(!1)}a=u.call(t)}for(l=a.next;!(p=l.call(a)).done;)if("object"==typeof(f=mr(a,d,p.value,o))&&f&&f instanceof e)return f;return new e(!1)}).stop=function(t){return new e(!0,t)}})),wr=Wt("iterator"),kr=!1;try{var xr=0,jr={next:function(){return{done:!!xr++}},return:function(){kr=!0}};jr[wr]=function(){return this},Array.from(jr,(function(){throw 2}))}catch(t){}var Or,Sr,Er,Ar=function(t,e){if(!e&&!kr)return!1;var r=!1;try{var n={};n[wr]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Tr=Wt("species"),Fr=/(iphone|ipod|ipad).*applewebkit/i.test(Gt),Pr=n.location,Lr=n.setImmediate,Nr=n.clearImmediate,Rr=n.process,_r=n.MessageChannel,zr=n.Dispatch,Mr=0,Ir={},Vr=function(t){if(Ir.hasOwnProperty(t)){var e=Ir[t];delete Ir[t],e()}},Wr=function(t){return function(){Vr(t)}},Cr=function(t){Vr(t.data)},Dr=function(t){n.postMessage(t+"",Pr.protocol+"//"+Pr.host)};Lr&&Nr||(Lr=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return Ir[++Mr]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Or(Mr),Mr},Nr=function(t){delete Ir[t]},"process"==l(Rr)?Or=function(t){Rr.nextTick(Wr(t))}:zr&&zr.now?Or=function(t){zr.now(Wr(t))}:_r&&!Fr?(Er=(Sr=new _r).port2,Sr.port1.onmessage=Cr,Or=te(Er.postMessage,Er,1)):!n.addEventListener||"function"!=typeof postMessage||n.importScripts||o(Dr)||"file:"===Pr.protocol?Or="onreadystatechange"in x("script")?function(t){de.appendChild(x("script")).onreadystatechange=function(){de.removeChild(this),Vr(t)}}:function(t){setTimeout(Wr(t),0)}:(Or=Dr,n.addEventListener("message",Cr,!1)));var Gr,Ur,Hr,qr,Br,Yr,Kr,Qr,Zr={set:Lr,clear:Nr},Xr=S.f,$r=Zr.set,Jr=n.MutationObserver||n.WebKitMutationObserver,tn=n.process,en=n.Promise,rn="process"==l(tn),nn=Xr(n,"queueMicrotask"),on=nn&&nn.value;on||(Gr=function(){var t,e;for(rn&&(t=tn.domain)&&t.exit();Ur;){e=Ur.fn,Ur=Ur.next;try{e()}catch(t){throw Ur?qr():Hr=void 0,t}}Hr=void 0,t&&t.enter()},rn?qr=function(){tn.nextTick(Gr)}:Jr&&!Fr?(Br=!0,Yr=document.createTextNode(""),new Jr(Gr).observe(Yr,{characterData:!0}),qr=function(){Yr.data=Br=!Br}):en&&en.resolve?(Kr=en.resolve(void 0),Qr=Kr.then,qr=function(){Qr.call(Kr,Gr)}):qr=function(){$r.call(n,Gr)});var an,un,cn,sn,fn=on||function(t){var e={fn:t,next:void 0};Hr&&(Hr.next=e),Ur||(Ur=e,qr()),Hr=e},ln=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Jt(e),this.reject=Jt(r)},pn={f:function(t){return new ln(t)}},hn=function(t,e){if(E(t),g(e)&&e.constructor===t)return e;var r=pn.f(t);return(0,r.resolve)(e),r.promise},dn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},vn=Zr.set,gn=Wt("species"),yn="Promise",mn=tt.get,bn=tt.set,wn=tt.getterFor(yn),kn=fr,xn=n.TypeError,jn=n.document,On=n.process,Sn=ot("fetch"),En=pn.f,An=En,Tn="process"==l(On),Fn=!!(jn&&jn.createEvent&&n.dispatchEvent),Pn=Tt(yn,(function(){if(!(M(kn)!==String(kn))){if(66===Bt)return!0;if(!Tn&&"function"!=typeof PromiseRejectionEvent)return!0}if(Bt>=51&&/native code/.test(kn))return!1;var t=kn.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[gn]=e,!(t.then((function(){}))instanceof e)})),Ln=Pn||!Ar((function(t){kn.all(t).catch((function(){}))})),Nn=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},Rn=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;fn((function(){for(var o=e.value,i=1==e.state,a=0;n.length>a;){var u,c,s,f=n[a++],l=i?f.ok:f.fail,p=f.resolve,h=f.reject,d=f.domain;try{l?(i||(2===e.rejection&&In(t,e),e.rejection=1),!0===l?u=o:(d&&d.enter(),u=l(o),d&&(d.exit(),s=!0)),u===f.promise?h(xn("Promise-chain cycle")):(c=Nn(u))?c.call(u,p,h):p(u)):h(o)}catch(t){d&&!s&&d.exit(),h(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&zn(t,e)}))}},_n=function(t,e,r){var o,i;Fn?((o=jn.createEvent("Event")).promise=e,o.reason=r,o.initEvent(t,!1,!0),n.dispatchEvent(o)):o={promise:e,reason:r},(i=n["on"+t])?i(o):"unhandledrejection"===t&&function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},zn=function(t,e){vn.call(n,(function(){var r,n=e.value;if(Mn(e)&&(r=dn((function(){Tn?On.emit("unhandledRejection",n,t):_n("unhandledrejection",t,n)})),e.rejection=Tn||Mn(e)?2:1,r.error))throw r.value}))},Mn=function(t){return 1!==t.rejection&&!t.parent},In=function(t,e){vn.call(n,(function(){Tn?On.emit("rejectionHandled",t):_n("rejectionhandled",t,e.value)}))},Vn=function(t,e,r,n){return function(o){t(e,r,o,n)}},Wn=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,Rn(t,e,!0))},Cn=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw xn("Promise can't be resolved itself");var o=Nn(r);o?fn((function(){var n={done:!1};try{o.call(r,Vn(Cn,t,n,e),Vn(Wn,t,n,e))}catch(r){Wn(t,n,r,e)}})):(e.value=r,e.state=1,Rn(t,e,!1))}catch(r){Wn(t,{done:!1},r,e)}}};Pn&&(kn=function(t){dr(this,kn,yn),Jt(t),an.call(this);var e=mn(this);try{t(Vn(Cn,this,e),Vn(Wn,this,e))}catch(t){Wn(this,e,t)}},(an=function(t){bn(this,{type:yn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=lr(kn.prototype,{then:function(t,e){var r,n,o,i=wn(this),a=En((r=kn,void 0===(o=E(this).constructor)||null==(n=E(o)[Tr])?r:Jt(n)));return a.ok="function"!=typeof t||t,a.fail="function"==typeof e&&e,a.domain=Tn?On.domain:void 0,i.parent=!0,i.reactions.push(a),0!=i.state&&Rn(this,i,!1),a.promise},catch:function(t){return this.then(void 0,t)}}),un=function(){var t=new an,e=mn(t);this.promise=t,this.resolve=Vn(Cn,t,e),this.reject=Vn(Wn,t,e)},pn.f=En=function(t){return t===kn||t===cn?new un(t):An(t)},"function"==typeof fr&&(sn=fr.prototype.then,et(fr.prototype,"then",(function(t,e){var r=this;return new kn((function(t,e){sn.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Sn&&Pt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return hn(kn,Sn.apply(n,arguments))}}))),Pt({global:!0,wrap:!0,forced:Pn},{Promise:kn}),Ve(kn,yn,!1),hr(yn),cn=ot(yn),Pt({target:yn,stat:!0,forced:Pn},{reject:function(t){var e=En(this);return e.reject.call(void 0,t),e.promise}}),Pt({target:yn,stat:!0,forced:Pn},{resolve:function(t){return hn(this,t)}}),Pt({target:yn,stat:!0,forced:Ln},{all:function(t){var e=this,r=En(e),n=r.resolve,o=r.reject,i=dn((function(){var r=Jt(e.resolve),i=[],a=0,u=1;br(t,(function(t){var c=a++,s=!1;i.push(void 0),u++,r.call(e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=En(e),n=r.reject,o=dn((function(){var o=Jt(e.resolve);br(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var Dn=T.f,Gn=tr.fastKey,Un=tt.set,Hn=tt.getterFor,qn=(function(t,e,r){var i=-1!==t.indexOf("Map"),a=-1!==t.indexOf("Weak"),u=i?"set":"add",c=n[t],s=c&&c.prototype,f=c,l={},p=function(t){var e=s[t];et(s,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(a&&!g(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!g(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!g(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(Tt(t,"function"!=typeof c||!(a||s.forEach&&!o((function(){(new c).entries().next()})))))f=r.getConstructor(e,t,i,u),tr.REQUIRED=!0;else if(Tt(t,!0)){var h=new f,d=h[u](a?{}:-0,1)!=h,v=o((function(){h.has(1)})),y=Ar((function(t){new c(t)})),m=!a&&o((function(){for(var t=new c,e=5;e--;)t[u](e,e);return!t.has(-0)}));y||((f=e((function(e,r){dr(e,f,t);var n=function(t,e,r){var n,o;return De&&"function"==typeof(n=e.constructor)&&n!==r&&g(o=n.prototype)&&o!==r.prototype&&De(t,o),t}(new c,e,f);return null!=r&&br(r,n[u],n,i),n}))).prototype=s,s.constructor=f),(v||m)&&(p("delete"),p("has"),i&&p("get")),(m||d)&&p(u),a&&s.clear&&delete s.clear}l[t]=f,Pt({global:!0,forced:f!=c},l),Ve(f,t),a||r.setStrong(f,t,i)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,r,n){var o=t((function(t,a){dr(t,o,e),Un(t,{type:e,index:be(null),first:void 0,last:void 0,size:0}),i||(t.size=0),null!=a&&br(a,t[n],t,r)})),a=Hn(e),u=function(t,e,r){var n,o,u=a(t),s=c(t,e);return s?s.value=r:(u.last=s={index:o=Gn(e,!0),key:e,value:r,previous:n=u.last,next:void 0,removed:!1},u.first||(u.first=s),n&&(n.next=s),i?u.size++:t.size++,"F"!==o&&(u.index[o]=s)),t},c=function(t,e){var r,n=a(t),o=Gn(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return lr(o.prototype,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,i?t.size=0:this.size=0},delete:function(t){var e=a(this),r=c(this,t);if(r){var n=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),e.first==r&&(e.first=n),e.last==r&&(e.last=o),i?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=a(this),n=te(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),lr(o.prototype,r?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),i&&Dn(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=Hn(e),i=Hn(n);Be(t,e,(function(t,e){Un(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),hr(e)}}),Wt("match")),Bn=function(t){if(function(t){var e;return g(t)&&(void 0!==(e=t[qn])?!!e:"RegExp"==l(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},Yn=Wt("match");Pt({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Yn]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(d(this)).indexOf(Bn(t),arguments.length>1?arguments[1]:void 0)}});var Kn=function(t){return function(e,r){var n,o,i=String(d(e)),a=ut(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Qn={codeAt:Kn(!1),charAt:Kn(!0)}.charAt,Zn=tt.set,Xn=tt.getterFor("String Iterator");Be(String,"String",(function(t){Zn(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Xn(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Qn(r,n),e.index+=t.length,{value:t,done:!1})}));var $n={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Jn=Wt("iterator"),to=Wt("toStringTag"),eo=Qe.values;for(var ro in $n){var no=n[ro],oo=no&&no.prototype;if(oo){if(oo[Jn]!==eo)try{F(oo,Jn,eo)}catch(t){oo[Jn]=eo}if(oo[to]||F(oo,to,ro),$n[ro])for(var io in Qe)if(oo[io]!==Qe[io])try{F(oo,io,Qe[io])}catch(t){oo[io]=Qe[io]}}}function ao(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function uo(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ao(i,n,o,a,u,"next",t)}function u(t){ao(i,n,o,a,u,"throw",t)}a(void 0)}))}}function co(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function so(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function fo(t){return function(t){if(Array.isArray(t))return lo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lo(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e((function(t){var e=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return O()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=b(a,r);if(u){if(u===s)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var f=c(t,e,r);if("normal"===f.type){if(n=r.done?"completed":"suspendedYield",f.arg===s)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(n="completed",r.method="throw",r.arg=f.arg)}}}(t,r,a),i}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var s={};function f(){}function l(){}function p(){}var h={};h[o]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(j([])));v&&v!==e&&r.call(v,o)&&(h=v);var g=p.prototype=f.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function m(t,e){var n;this._invoke=function(o,i){function a(){return new e((function(n,a){!function n(o,i,a,u){var s=c(t[o],t,i);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return l.prototype=g.constructor=p,p.constructor=l,p[a]=l.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new m(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.option,this.embeddedVizzes=[],this.vizUpdateMode={PAGE:"page",VIZ:"viz",SHEET:"sheet"},Object.freeze(this.vizUpdateMode)}var e,r,n,o,i,a,u,c,s,f,l,p,h,d;return e=t,(r=[{key:"discovery",value:(d=uo(regeneratorRuntime.mark((function t(e,r){var n,o,i,a,u,c,s,f,l,p,h,d,v,g,y,m,b,w,k,x,j,O,S,E,A,T,F,P,L,N,R,_,z,M,I,V,W,C,D,G,U,H,q,B,Y,K=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],o=[],i={},u=(a=e).getParentElement(),c=a.getUrl(),s=a.getWorkbook(),f=s.getName(),l=s.getActiveSheet(),p=l.getName(),h=l.getSheetType(),i={vizObject:a,vizDomNode:u,vizUrl:c,workbookObject:s,workbookName:f,activeSheetObject:l,activeSheetName:p,activeSheetType:h},d=[],t.t0=i.activeSheetType,t.next="worksheet"===t.t0?16:"dashboard"===t.t0?23:39;break;case 16:return v=i.activeSheetObject,g=v.getName(),t.next=20,this._getFilters(v);case 20:for(y=t.sent,m=0;m<y.length;m++)b=y[m],"measure names"!=(w=b.getFieldName()).toLowerCase()&&0==w.toLowerCase().includes("action")&&(k={filterFieldName:w,filterObject:b,targetWorksheet:{targetVizName:p,targetWorksheetName:g,targetWorksheetObject:v}},d.push(k));return t.abrupt("break",39);case 23:x=i.activeSheetObject.getObjects(),j=0;case 25:if(!(j<x.length)){t.next=38;break}if("worksheet"!=(O=x[j]).getObjectType()){t.next=35;break}return S=O.getWorksheet(),E=S.getName(),t.next=33,this._getFilters(S);case 33:for(A=t.sent,T=0;T<A.length;T++)F=A[T],"measure names"!=(P=F.getFieldName()).toLowerCase()&&0==P.toLowerCase().includes("action")&&(L={filterFieldName:P,filterObject:F,targetWorksheet:{targetVizName:p,targetWorksheetName:E,targetWorksheetObject:S}},d.push(L));case 35:j++,t.next=25;break;case 38:return t.abrupt("break",39);case 39:for(N=d.map(function(t){return so(this,K),t.filterFieldName}.bind(this)),R=fo(new Set(N)),_=function(t){var e=this,r=d.filter(function(r){return so(this,e),r.filterFieldName===R[t]}.bind(this)),o=r.map(function(t){return so(this,e),t.targetWorksheet}.bind(this)),i=(r.map(function(t){return so(this,e),t.filterType}.bind(this)),r.map(function(t){return so(this,e),t.filterObject}.bind(this))),a={filterFieldName:R[t]};switch(a.filterObject=i[0],a.filterFieldType=a.filterObject.getFilterType(),a.targetWorksheets=o,a.filterFieldType){case"categorical":if(a.filterAreAllValuesSelected=a.filterObject.getIsAllSelected(),null===a.filterObject.getAppliedValues())a.filterDomainValues=null,n.push(a);else{for(var u=[],c=0;c<a.filterObject.getAppliedValues().length;c++)u.push({id:c,text:a.filterObject.getAppliedValues()[c].formattedValue,tableauRawValue:a.filterObject.getAppliedValues()[c].value});a.filterDomainValues=u,n.push(a)}break;case"quantitative":var s=a.filterObject.getDomainMax(),f=a.filterObject.getDomainMin(),l=a.filterObject.getMax(),p=a.filterObject.getMin(),h=a.filterObject.getIncludeNullValues();a.filterDomainMax=s,a.filterDomainMin=f,a.filterMax=l,a.filterMin=p,a.filterIncludeNullValues=h,n.push(a);break;case"relativedate":var v=a.filterObject.getPeriod(),g=a.filterObject.getRange(),y=a.filterObject.getRangeN();a.filterPeriod=v,a.filterRange=g,a.filterRangeN=y,n.push(a)}},z=0;z<R.length;z++)_(z);return t.next=45,this._getParameters(s);case 45:for(M=t.sent,I=0;I<M.length;I++)V=null,W=null,C=null,D=null,G=M[I],U=M[I].getCurrentValue(),H=M[I].getName(),q=M[I].getDataType(),B=M[I].getAllowableValuesType(),Y=M[I].getAllowableValues(),"range"===B&&(V=M[I].getMinValue(),W=M[I].getMaxValue(),C=M[I].getStepSize(),"date"!==q&&"datetime"!==q||(D=M[I].getDateStepPeriod())),o.push({parameterObject:G,parameterCurrentValue:U,parameterName:H,parameterDataType:q,parameterAllowableValuesType:B,parameterAllowableValues:Y,parameterMinValue:V,parameterMaxValue:W,parameterStepSize:C,parameterStepPeriod:D,targetWorkbook:{targetWorkbookName:f,targetWorkbookObject:s}});return i.parameters=o,i.filters=n,this.embeddedVizzes.push(i),t.abrupt("return",this);case 51:case"end":return t.stop()}}),t,this)}))),function(t,e){return d.apply(this,arguments)})},{key:"applyParameters",value:(h=uo(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,u,c,s,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=[],a=[],u=[],c=[],s=[],t.t0=e.scope.mode,t.next=t.t0===this.vizUpdateMode.PAGE?8:t.t0===this.vizUpdateMode.VIZ?12:14;break;case 8:for(n=0;n<this.embeddedVizzes.length;n++)a=this.embeddedVizzes[n].parameters.filter(function(t){return so(this,f),t.parameterName===e.parameter.parameterName}.bind(this)),c.push(a[0].targetWorkbook.targetWorkbookObject);return s=s.concat(c),c=[],t.abrupt("break",14);case 12:for(r=0;r<e.scope.targetArray.length;r++){for(u=this.embeddedVizzes.filter(function(t){return so(this,f),t.activeSheetName===e.scope.targetArray[r]}.bind(this)),n=0;n<u.length;n++)a=u[n].parameters.filter(function(t){return so(this,f),t.parameterName===e.parameter.parameterName}.bind(this)),c.push(a[0].targetWorkbook.targetWorkbookObject);s=s.concat(c),c=[]}return t.abrupt("break",14);case 14:for(r=0;r<s.length;r++)o=s[r].changeParameterValueAsync(e.parameter.parameterName,e.parameter.values),i.push(o);return t.next=17,Promise.all(i);case 17:t.sent;case 18:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"applyFilters",value:(p=uo(regeneratorRuntime.mark((function t(e){var r,n,o,i,a,u,c,s,f,l,p,h,d,v=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],n=[],u=[],t.t0=e.scope.mode,t.next=t.t0===this.vizUpdateMode.PAGE?6:t.t0===this.vizUpdateMode.VIZ?8:t.t0===this.vizUpdateMode.SHEET?10:12;break;case 6:for(o=0;o<this.embeddedVizzes.length;o++)1===(n=this.embeddedVizzes[o].filters.filter(function(t){return so(this,v),t.filterFieldName===e.filter.fieldName}.bind(this))).length&&(a=n[0].filterFieldType,r.push(n[0]));return t.abrupt("break",12);case 8:for(o=0;o<e.scope.targetArray.length;o++)1===(c=this.embeddedVizzes.filter(function(t){return so(this,v),t.activeSheetName===e.scope.targetArray[o]}.bind(this))).length&&1===(n=c[0].filters.filter(function(t){return so(this,v),t.filterFieldName===e.filter.fieldName}.bind(this))).length&&(a=n[0].filterFieldType,r.push(n[0]));return t.abrupt("break",12);case 10:for(o=0;o<e.scope.targetArray.length;o++)if(1===(s=this.embeddedVizzes.filter(function(t){return so(this,v),t.activeSheetName===e.scope.targetArray[o].viz}.bind(this))).length&&1===(f=s[0].filters.filter(function(t){return so(this,v),t.filterFieldName===e.filter.fieldName}.bind(this))).length){for(l=[],i=0;i<e.scope.targetArray[o].sheetsArray.length;i++)1===(p=f[0].targetWorksheets.filter(function(t){return so(this,v),t.targetWorksheetName===e.scope.targetArray[o].sheetsArray[i]}.bind(this))).length&&l.push(p[0]);l.length>0&&(f[0].targetWorksheets=l,a=f[0].filterFieldType,r.push(f[0]))}return t.abrupt("break",12);case 12:if("clear"!==e.filter.updateType){t.next=16;break}for(o=0;o<r.length;o++)h=r[o],d=this._sendClearFilters(h,e.filter.values),u.push(d);t.next=27;break;case 16:t.t1=a,t.next="categorical"===t.t1?19:"quantitative"===t.t1?21:"relativedate"===t.t1?23:"hierarchical"===t.t1?25:27;break;case 19:return this._sendCategoricalFilters(r,e.filter.updateType,e.filter.values),t.abrupt("break",27);case 21:return this._sendRangeFilters(r,e.filter.values),t.abrupt("break",27);case 23:return this._sendRelativeDateFilters(r,e.filter.values),t.abrupt("break",27);case 25:return this._sendHierarchicalFilters(r,e.filter.updateType,e.filter.values),t.abrupt("break",27);case 27:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"_sendClearFilters",value:(l=uo(regeneratorRuntime.mark((function t(e){var r,n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=[],a=[],n=0;n<e.length;n++){for(r=0;r<e[n].targetWorksheets.length;r++)o=e[n].targetWorksheets[r].targetWorksheetObject.clearFilterAsync(e[n].filterFieldName),i.push(o);a=a.concat(i),i=[]}return t.next=5,Promise.all(a);case 5:t.sent;case 6:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)})},{key:"_sendCategoricalFilters",value:(f=uo(regeneratorRuntime.mark((function t(e,r,n){var o,i,a,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(u=[],c=[],i=0;i<e.length;i++){for(o=0;o<e[i].targetWorksheets.length;o++)a=e[i].targetWorksheets[o].targetWorksheetObject.applyFilterAsync(e[i].filterFieldName,n,r),u.push(a);c=c.concat(u),u=[]}return t.next=5,Promise.all(c);case 5:t.sent;case 6:case"end":return t.stop()}}),t)}))),function(t,e,r){return f.apply(this,arguments)})},{key:"_sendRangeFilters",value:(s=uo(regeneratorRuntime.mark((function t(e,r){var n,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[],u=[],o=0;o<e.length;o++){for(n=0;n<e[o].targetWorksheets.length;n++)i=e[o].targetWorksheets[n].targetWorksheetObject.applyRangeFilterAsync(e[o].filterFieldName,r),a.push(i);u=u.concat(a),a=[]}return t.next=5,Promise.all(u);case 5:t.sent;case 6:case"end":return t.stop()}}),t)}))),function(t,e){return s.apply(this,arguments)})},{key:"_sendRelativeDateFilters",value:(c=uo(regeneratorRuntime.mark((function t(e,r){var n,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[],u=[],o=0;o<e.length;o++){for(n=0;n<e[o].targetWorksheets.length;n++)i=e[o].targetWorksheets[n].targetWorksheetObject.applyRelativeDateFilterAsync(e[o].filterFieldName,r),a.push(i);u=u.concat(a),a=[]}return t.next=5,Promise.all(u);case 5:t.sent;case 6:case"end":return t.stop()}}),t)}))),function(t,e){return c.apply(this,arguments)})},{key:"_sendHierarchicalFilters",value:(u=uo(regeneratorRuntime.mark((function t(e,r,n){var o,i,a,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(u=[],c=[],i=0;i<e.length;i++){for(o=0;o<e[i].targetWorksheets.length;o++)a=e[i].targetWorksheets[o].targetWorksheetObject.applyHierarchicalFilterAsync(e[i].filterFieldName,n,r),u.push(a);c=c.concat(u),u=[]}return t.next=5,Promise.all(c);case 5:t.sent;case 6:case"end":return t.stop()}}),t)}))),function(t,e,r){return u.apply(this,arguments)})},{key:"_getFilters",value:(a=uo(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.getFiltersAsync();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"_getFilterFromEvent",value:(i=uo(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.getFilterAsync();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"_getParameters",value:(o=uo(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getParametersAsync();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}])&&co(e.prototype,r),n&&co(e,n),t}()}));
